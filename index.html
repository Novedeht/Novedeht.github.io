<!DOCTYPE html>
<html>
<body>

<p id="demo"></p>
<div id="rip">
this is dot: @ <br> dot likes to eat bits: o <br> when he eats one his fullness level goes up <br> but when it reaches 0 he dies : ( <br> </br>

<form> speed in seconds (use decimals to go lower): <input type="text" id="firstname" name="firstname"> </form>
<button onclick="start();">vamos</button>

</div>



<script>
function start() {

        var speedBox = document.getElementsByName("firstname")[0].value * 1000;

    if (isNaN(speedBox)) {
        return;
    }

document.getElementById("rip").innerHTML = "";

var empty = '... ';
var dot = {
"char": "@ ", 
"x": 0, 
"y": 0,
}
var food = {
"char": "o ", 
"x": Math.floor(Math.random() * 6 - 2), 
"y": Math.floor(Math.random() * 6 - 2)
}

var collected = 0;
var hunger = 10;
var speed = speedBox;
var foodStrength = Math.floor(Math.random() * 7 + 2);
var dead = false;

var chance = 100;

var spoiledBit = false;

var space1 = empty; var space2 = empty; var space3 = empty; var space4 = empty; var space5 = empty;
var space6 = empty; var space7 = empty; var space8 = empty; var space9 = empty; var space10 = empty;
var space11 = empty; var space12 = empty; var space13 = empty; var space14 = empty; var space15 = empty;
var space16 = empty; var space17 = empty; var space18 = empty; var space19 = empty; var space20 = empty;
var space21 = empty; var space22 = empty; var space23 = empty; var space24 = empty; var space25 = empty;

function place(item) {

if (item.x <= -3) {item.x = -2} if (item.x >= 3) {item.x = 2} if (item.y <= -3) {item.y = -2} if (item.y >= 3) {item.y = 2} 

if (item.x == -2 && item.y == 2) {space1 = item.char;} if (item.x == -1 && item.y == 2) {space2 = item.char;} if (item.x == 0 && item.y == 2) {space3 = item.char;} if (item.x == 1 && item.y == 2) {space4 = item.char;} if (item.x == 2 && item.y == 2) {space5 = item.char;}
if (item.x == -2 && item.y == 1) {space6 = item.char;} if (item.x == -1 && item.y == 1) {space7 = item.char;} if (item.x == 0 && item.y == 1) {space8 = item.char;} if (item.x == 1 && item.y == 1) {space9 = item.char;} if (item.x == 2 && item.y == 1) {space10 = item.char;}
if (item.x == -2 && item.y == 0) {space11 = item.char;} if (item.x == -1 && item.y == 0) {space12 = item.char;} if (item.x == 0 && item.y == 0) {space13 = item.char;} if (item.x == 1 && item.y == 0) {space14 = item.char;} if (item.x == 2 && item.y == 0) {space15 = item.char;}
if (item.x == -2 && item.y == -1) {space16 = item.char;} if (item.x == -1 && item.y == -1) {space17 = item.char;} if (item.x == 0 && item.y == -1) {space18 = item.char;} if (item.x == 1 && item.y == -1) {space19 = item.char;} if (item.x == 2 && item.y == -1) {space20 = item.char;}
if (item.x == -2 && item.y == -2) {space21 = item.char;} if (item.x == -1 && item.y == -2) {space22 = item.char;} if (item.x == 0 && item.y == -2) {space23 = item.char;} if (item.x == 1 && item.y == -2) {space24 = item.char;} if (item.x == 2 && item.y == -2) {space25 = item.char;}

}

function moveUp(item) {
remove(dot);
item.y++
}
function moveDown(item) {
remove(dot);
item.y--
}
function moveLeft(item) {
remove(dot);
item.x--
}
function moveRight(item) {
remove(dot);
item.x++
}

function remove(item) {
    if (space1 == item.char) {space1 = empty;} if (space2 == item.char) {space2 = empty;} if (space3 == item.char) {space3 = empty;} if (space4 == item.char) {space4 = empty;} if (space5 == item.char) {space5 = empty;}
    if (space6 == item.char) {space6 = empty;} if (space7 == item.char) {space7 = empty;} if (space8 == item.char) {space8 = empty;} if (space9 == item.char) {space9 = empty;} if (space10 == item.char) {space10 = empty;}
    if (space11 == item.char) {space11 = empty;} if (space12 == item.char) {space12 = empty;} if (space13 == item.char) {space13 = empty;} if (space14 == item.char) {space14 = empty;} if (space15 == item.char) {space15 = empty;}
    if (space16 == item.char) {space16 = empty;} if (space17 == item.char) {space17 = empty;} if (space18 == item.char) {space18 = empty;} if (space19 == item.char) {space19 = empty;} if (space20 == item.char) {space20 = empty;}
    if (space21 == item.char) {space21 = empty;} if (space22 == item.char) {space22 = empty;} if (space23 == item.char) {space23 = empty;} if (space24 == item.char) {space24 = empty;} if (space25 == item.char) {space25 = empty;}
}

function random(item){
    item.x = Math.floor(Math.random() * 6 - 2);
    item.y = Math.floor(Math.random() * 6 - 2);
}
function newFood(){
random(food);
remove(food);
place(food);
}

newFood();

place(dot);

document.getElementById("demo").innerHTML = 
space1 + space2 + space3 + space4 + space5 + '<br /> \
' + space6 + space7 + space8 + space9 + space10 + '<br /> \
' + space11 + space12 + space13 + space14 + space15 + '<br /> \
' + space16 + space17 + space18 + space19 + space20 + '<br /> \
' + space21 + space22 + space23 + space24 + space25 + '<br /> \
' + '' + '<br /> \
' + 'dot has eaten ' + collected + ' bits.' + '<br /> \
' + 'dots fullness level is ' + hunger;


setInterval(function(){ 

if (hunger > 0) {

if (hunger > 10 && hunger < 20) {
    chance = 90;
}
if (hunger > 20 && hunger < 25) {
    chance = 80;
}
if (hunger > 25 && hunger < 30) {
    chance = 70;
}
if (hunger > 30 && hunger < 35) {
    chance = 60;
}
if (hunger > 35 && hunger < 40) {
    chance = 70;
}
if (hunger > 40 && hunger < 45) {
    chance = 60;
}
if (hunger > 45 && hunger < 50) {
    chance = 50;
}
if (hunger > 50 && hunger < 55) {
    chance = 40;
}
if (hunger > 55 && hunger < 60) {
    chance = 30;
}
if (hunger > 60 && hunger < 65) {
    chance = 20;
}
if (hunger > 65 && hunger < 70) {
    chance = 10;
}
if (hunger > 70 && hunger < 75) {
    chance = 2;
}



if (food.y > dot.y) { moveUp(dot) }
if (food.y < dot.y) { moveDown(dot) }
if (food.x < dot.x) { moveLeft(dot) }
if (food.x > dot.x) { moveRight(dot) }
if (food.x == dot.x && food.y == dot.y) { 
    var number = Math.floor(Math.random() * chance + 1);
    if (number == 1) {
    spoiledBit = true;
}
if (number != 1) {
    spoiledBit = false;
}

    newFood(); 
    if (spoiledBit == true) {
        hunger = hunger - 7
        collected++;
    }
    if (spoiledBit == false) {
        collected++; 
        foodStrength = Math.floor(Math.random() * 2 + 2);  
        hunger = hunger + foodStrength;
    }
    
    }
place(dot);

hunger--
if (spoiledBit == false) {
document.getElementById("demo").innerHTML = 
space1 + space2 + space3 + space4 + space5 + '<br /> \
' + space6 + space7 + space8 + space9 + space10 + '<br /> \
' + space11 + space12 + space13 + space14 + space15 + '<br /> \
' + space16 + space17 + space18 + space19 + space20 + '<br /> \
' + space21 + space22 + space23 + space24 + space25 + '<br /> \
' + '' + '<br /> \
' + 'dot has eaten ' + collected + ' bits.' + '<br /> \
' + 'dots fullness level is ' + hunger;

}
if (spoiledBit == true) {
document.getElementById("demo").innerHTML = 
space1 + space2 + space3 + space4 + space5 + '<br /> \
' + space6 + space7 + space8 + space9 + space10 + '<br /> \
' + space11 + space12 + space13 + space14 + space15 + '<br /> \
' + space16 + space17 + space18 + space19 + space20 + '<br /> \
' + space21 + space22 + space23 + space24 + space25 + '<br /> \
' + '' + '<br /> \
' + 'dot has eaten ' + collected + ' bits.' + '<br /> \
' + 'dots fullness level is ' + hunger + '<br /> \
' + '' + '<br /> \
' + 'dot ate a spoiled bit!';

spoiledBit = false;
}

}

if (hunger <= 0 && spoiledBit == false) {
speed = 0;
dead = true;
document.getElementById("demo").innerHTML = 
empty + empty + empty + empty + empty + '<br /> \
' + empty + empty + empty + empty + empty + '<br /> \
' + empty + empty + empty + empty + empty + '<br /> \
' + empty + empty + empty + empty + empty + '<br /> \
' + empty + empty + empty + empty + empty + '<br /> \
' + '' + '<br /> \
' + 'dot has died!' + '<br /> \
' + 'he ate ' + collected + ' bits before he died';
}
if (hunger <= 0 && spoiledBit == true) {
speed = 0;
dead = true;
document.getElementById("demo").innerHTML = 
empty + empty + empty + empty + empty + '<br /> \
' + empty + empty + empty + empty + empty + '<br /> \
' + empty + empty + empty + empty + empty + '<br /> \
' + empty + empty + empty + empty + empty + '<br /> \
' + empty + empty + empty + empty + empty + '<br /> \
' + '' + '<br /> \
' + 'dot ate a spoiled bit and died!' + '<br /> \
' + 'he ate ' + collected + ' bits before he died';
}



}, speed);



}
</script>

</body>
</html>

